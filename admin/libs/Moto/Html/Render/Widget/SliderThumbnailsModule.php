<?php
 class Moto_Html_Render_Widget_SliderThumbnailsModule extends Moto_Html_Render_Widget_SliderModule { function renderContent($items, $parent = 0) { $html = ''; $data = array( 'widget.properties' => $this->_renderTemp['widget.properties'], 'controlButtons' => $this->renderControlButtons(), 'descriptionBlock' => $this->renderDescriptionBlock(), 'thumbnails' => $this->renderThumbnails($items), 'contentItems' => $this->renderContentItems($items), ); $template = $this->_module->getTemplate('content'); if ($template == '') $template = '<div>{%content%}</div>'; $html = $this->_render($template, $data, false); return $html; } function renderThumbnails($items) { $props = $this->_module->properties; $isHorizontal = $props['thumbnailsOrientation']['value'] == 'horizontal'; $thumbnailsMargin = $this->_parsePadding($this->_module->properties['thumbnailsMargin']['style']); $data = array( 'id' => 'widget_' . $this->_module->id, 'content' => '', 'thumbnailsMargin.top' => $thumbnailsMargin['top'], 'thumbnailsMargin.right' => $thumbnailsMargin['right'], 'thumbnailsMargin.bottom' => $thumbnailsMargin['bottom'], 'thumbnailsMargin.left' => $thumbnailsMargin['left'], 'thumbnailsWidth' => $isHorizontal ? 'auto' : $props['thumbnailItemWidth']['value'] . 'px', 'thumbnailsHeight' => $isHorizontal ? $props['thumbnailItemHeight']['value'] . 'px' : '100% ', ); $itemTemplate = $this->_module->getTemplate('thumbnailItem'); foreach ($items as $item) { $data['content'] .= $this->_render($itemTemplate, array( 'item' => $item )); } $template = $this->_module->getTemplate('thumbnails'); if (!$template) $template = '<div><ul>{%content%}</ul></div>'; $html = ''; $html = $this->_render($template, $data); return $html; } } 