<?php
class Moto_Html_Render_Widget_TimerSlot extends Moto_Html_Render_Widget_Abstract { function proccess($obj, $parent = null) { $this->_module = $obj; $this->_parent = $parent; $html = $this->_proccess($obj); return $html; } function _proccess($obj) { $html = ''; $borderTop = $obj->properties['timerStyleVO']['style']->borderTThickness; $paddingTop = $obj->properties['timerStyleVO']['style']->paddingTop; $borderLeft = $obj->properties['timerStyleVO']['style']->borderLThickness; $paddingLeft = $obj->properties['timerStyleVO']['style']->paddingLeft; $obj->x -= $borderLeft + $paddingLeft; $obj->y -= $borderTop + $paddingTop; $actHeight = $obj->height; $obj->height += $obj->properties['timerStyleVO']['style']->borderBThickness + $obj->properties['timerStyleVO']['style']->paddingBottom + $borderTop + $paddingTop; $actWidth = $obj->width; $obj->width += $obj->properties['timerStyleVO']['style']->borderRThickness + $obj->properties['timerStyleVO']['style']->paddingRight + $borderLeft + $paddingLeft; if ($obj->snapping) { if ($obj->left != null && $obj->right != null) $actWidth = ''; if ($obj->top != null && $obj->bottom != null) $actHeight = ''; } $content = ''; $obj->type = $obj->getType()->getExtraData('jsClass'); $data = array( 'id' => 'widget_' . $obj->id, 'class' => $this->getCssClass($obj), 'style' => $this->getStyle($obj), 'actHeight' => $actHeight, 'actWidth' => $actWidth, 'content' => $content, 'widget' => Moto_Html_Util::implodeArraySimple( $this->_module ), 'widget.properties' => Moto_Html_Util::implodeArray( $this->_module->properties ), 'widget.parameters' => Moto_Html_Util::implodeArray( $this->_module->parameters ), 'buttonIcon' => '', ); if ($obj->properties['buttonIconPosition']['value'] != 'none' && $obj->properties['buttonIcon']['value'] != '') { $template = $obj->getTemplate('buttonIcon'); if ($template != '') $data['buttonIcon'] = $this->_render($template, $data); } $template = $obj->getTemplate('main'); if ($template == '') $template = $this->getTemplate('main'); $html = $this->_render($template, $data); return $html; } }