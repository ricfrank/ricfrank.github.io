<?php
class MotoXmlUtil { static function getAttributes($node) { $result = null; if ($node->hasAttributes()) { $result = array(); foreach($node->attributes as $attr) { $result[$attr->name] = $attr->value; } } return $result; } static function getParentNode(DOMNode $node, $parents) { $end = 0; $result = null; $i = 0; while($end == 0) { if (in_array($node->nodeName, $parents)) { $result = array('__nodeName' => $node->nodeName, '__attr' => array()); $result['__attr'] = self::getAttributes($node); $end = 1; break; } if ($node->parentNode != null && get_class($node->parentNode) == 'DOMElement') { $node = $node->parentNode; } else { $result = null; $end = 1; break; } } return $result; } }